webpackJsonp([19],{GvIm:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* * {\n  margin: 0;\n  padding: 0} */\nbody {\n    overflow: auto;\n    font-weight: 400;\n    -webkit-font-smoothing: antialiased;\n}\n.tb-edit .el-input {\n  display: none\n}\n.tb-edit .current-row .el-input {\n  display: block\n}\n.tb-edit .current-row .el-input+span {\n  display: none\n}\n",""])},PB0H:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("BO1k"),i=t.n(a),l=t("mvHQ"),o=t.n(l),s=t("Dd8w"),r=t.n(s),d=t("FQkR"),c=t("NYxO"),u={name:"overlap",components:{},data:function(){return{tableHeight:760,screenHeight:window.innerHeight,listLoading:!1,includedPhasess:[],id:1}},filters:{statusFilter:function(n){return{published:"success",draft:"gray",deleted:"danger"}[n]}},computed:r()({},Object(c.c)({overlaplList:function(n){return n.globalParam.tscParam.overlaplList}})),created:function(){this.globalParamModel=this.$store.getters.globalParamModel,this.init()},mounted:function(){var n=this;n.$nextTick(function(){n.tableHeight=window.innerHeight-document.querySelector("#footerBtn").offsetTop-50,window.onresize=function(){n.screenHeight=window.innerHeight}})},watch:{screenHeight:function(){this.tableHeight=window.innerHeight-document.querySelector("#footerBtn").offsetTop-50},overlaplList:function(){this.init()}},methods:{init:function(){this.initData(),this.increaseId()},initData:function(){var n=JSON.parse(o()(this.globalParamModel.getParamsByType("phaseList"))),e=this.globalParamModel.getParamsByType("overlaplList");this.includedPhasess=[];for(var t=0;t<n.length;t++){var a,l={},s=n[t].id;a=""!==n[t].desc&&void 0!==n[t].desc?s+"-"+Object(d.a)(n[t].desc,this.$i18n.locale):s,l.value=s,l.label=a,this.includedPhasess.push(l)}var r=this.includedPhasess.map(function(n){return n.value}),c=!0,u=!1,h=void 0;try{for(var p,m=i()(e);!(c=(p=m.next()).done);c=!0){var f=p.value;f.includedphases=f.includedphases.filter(function(n){return r.includes(n)})}}catch(n){u=!0,h=n}finally{try{!c&&m.return&&m.return()}finally{if(u)throw h}}},increaseId:function(){var n=this.globalParamModel.getParamsByType("overlaplList"),e=n.map(function(n){return n.id});if(n.length-1>=0)for(var t=1;t<=16;t++)if(!e.includes(t))return void(this.id=t)},handleEdit:function(n,e){},handleDelete:function(n){var e=this;this.$confirm(this.$t("edge.overlap.deletetip"),this.$t("edge.common.alarm"),{confirmButtonText:this.$t("edge.common.confirm"),cancelButtonText:this.$t("edge.common.cancel"),type:"warning"}).then(function(){e.globalParamModel.deleteParamsByType("overlaplList",n,1),e.$message({type:"success",message:e.$t("edge.common.deletesucess")})}).catch(function(){e.$message({type:"info",message:e.$t("edge.common.deletecancel")})})},onAdd:function(){if(this.increaseId(),0!==this.globalParamModel.getParamLength("phaseList"))if(this.globalParamModel.getParamLength("overlaplList")>=16)this.$message.error(this.$t("edge.overlap.mostdata"));else{var n={id:this.id,desc:"",includedphases:[]};this.globalParamModel.addParamsByType("overlaplList",n),this.globalParamModel.getParamsByType("overlaplList").sort(this.compareProperty("id"))}else this.$message.error(this.$t("edge.pattern.firstphase"))},compareProperty:function(n){return function(e,t){return e[n]-t[n]}}}},h={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:n.onAdd}},[n._v(n._s(n.$t("edge.common.add")))]),n._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:n.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:n.overlaplList,"element-loading-text":"Loading",fit:"","highlight-current-row":"","max-height":n.tableHeight,id:"footerBtn"}},[t("el-table-column",{attrs:{align:"center",label:"No","min-width":"30"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.$index+1))])]}}])}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:"ID","min-width":"30"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.id))])]}}])}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:n.$t("edge.overlap.desc")},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-input",{attrs:{size:"small"},on:{change:function(t){return n.handleEdit(e.$index,e.row)}},model:{value:e.row.desc,callback:function(t){n.$set(e.row,"desc",t)},expression:"scope.row.desc"}})]}}])}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:n.$t("edge.overlap.includedPhases")},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-select",{attrs:{multiple:"",placeholder:n.$t("edge.common.select"),size:"small"},model:{value:e.row.includedphases,callback:function(t){n.$set(e.row,"includedphases",t)},expression:"scope.row.includedphases"}},n._l(n.includedPhasess,function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}),1)]}}])}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:n.$t("edge.overlap.operation")},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return n.handleDelete(e.$index)}}},[n._v(n._s(n.$t("edge.common.delete")))])]}}])})],1)],1)},staticRenderFns:[]};var p=t("VU/8")(u,h,!1,function(n){t("lo8o")},null,null);e.default=p.exports},lo8o:function(n,e,t){var a=t("GvIm");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("664c6591",a,!0)}});