webpackJsonp([14],{EDez:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n.switch-language {\n  cursor: pointer;\n  margin-top: 20px;\n  margin-right: 20px;\n  float: right;\n}\n.login-container .el-input {\n  display: inline-block;\n  height: 47px;\n  width: 85%;\n}\n.login-container .el-input input {\n    background: #ffffff;\n    border: 0px;\n    -webkit-appearance: none;\n    border-radius: 0px;\n    padding: 12px 5px 12px 15px;\n    color: #333333;\n    height: 47px;\n}\n.login-container .el-input input:-webkit-autofill {\n      -webkit-text-fill-color: black !important;\n}\n.login-container .el-input input .el-input__inner {\n      -webkit-appearance: none;\n      background-color: #fff;\n      background-image: none;\n      border-radius: 4px;\n      border: 0px solid #dcdfe6;\n      -webkit-box-sizing: border-box;\n      box-sizing: border-box;\n      color: #606266;\n      display: inline-block;\n      font-size: inherit;\n      height: 40px;\n      line-height: 40px;\n      outline: 0;\n      padding: 0 15px;\n      -webkit-transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n      transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n      width: 100%;\n}\n.login-container .el-form-item {\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  background: #ffffff;\n  border-radius: 5px;\n  color: #1890ff;\n}\n.login-container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: #f2f9ff;\n}\n.login-container .login-form {\n    position: absolute;\n    left: 0;\n    right: 0;\n    width: 20%;\n    min-width: 400px;\n    padding: 35px 35px 15px 35px;\n    margin: 120px auto;\n}\n.login-container .tips {\n    font-size: 14px;\n    color: #999999;\n    margin-bottom: 10px;\n}\n.login-container .tips span:first-of-type {\n      margin-right: 16px;\n}\n.login-container .svg-container {\n    padding: 6px 5px 6px 15px;\n    color: #1890ff;\n    vertical-align: middle;\n    width: 30px;\n    display: inline-block;\n}\n.login-container .svg-container_login {\n      font-size: 20px;\n}\n.login-container .text-container {\n    padding: 6px 0px 0px 15px;\n    font-family: SourceHanSansCN-Regular;\n    font-size: 14px;\n    font-weight: normal;\n    font-stretch: normal;\n    letter-spacing: 0px;\n    color: #1890ff;\n}\n.login-container .title {\n    font-size: 26px;\n    font-weight: 400;\n    color: #1890ff;\n    margin: 0px auto 40px auto;\n    text-align: center;\n    font-weight: bold;\n    font-family: SourceHanSansCN-Bold;\n    font-stretch: normal;\n}\n.login-container .show-pwd {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: #889aa4;\n    cursor: pointer;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n.expand-text {\n  position: relative;\n  top: -10px;\n  font-family: SourceHanSansCN-Regular;\n  font-size: 13px;\n  font-weight: normal;\n  font-stretch: normal;\n  letter-spacing: 0px;\n  color: #1890ff;\n  cursor: pointer;\n}\n",""])},"T+/8":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("M9A7"),i=t("TIfe"),r=t("XGK3"),a=t("sGqM"),s={name:"login",components:{changePass:r.a},props:{loginInterface:{type:Object}},data:function(){var n=this;return{loginForm:{user_name:"",password:"",ip:"localhost",port:"8880",protocol:"ocp",agentid:"0"},loginRules:{user_name:[{required:!0,trigger:"blur",message:this.$t("edge.login.usernamenotnull")}],password:[{required:!0,trigger:"blur",message:this.$t("edge.login.passnotnull")}],protocol:[{required:!0,message:this.$t("edge.login.selectagreement"),trigger:"blur"}],ip:[{validator:function(e,t,o){if(""===t)return o(new Error(n.$t("edge.login.enterip")));if(!/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(t)&&"localhost"!==t)return n.ip_status=!1,o(new Error(n.$t("edge.login.enterlegalip")));n.ip_status=!0,o()},trigger:"blur"}],port:[{validator:function(e,t,o){if(""===t)return o(new Error(n.$t("edge.login.enterpport")));var i=/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/;setTimeout(function(){i.test(t)?(n.port_status=!0,o()):(n.port_status=!1,o(new Error(n.$t("edge.login.entercorrectport"))))},100)},trigger:"blur"}],agentid:[{required:!0,message:this.$t("edge.login.enterdeviceid"),trigger:"blur"}]},loading:!1,pwdType:"password",language:"Language",isExpand:!0}},created:function(){},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var n=this;this.$refs.loginForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;n.loading=!0,Object(o.b)(n.loginForm.user_name,n.loginForm.password).then(function(e){return!0!==e.data.success?(n.$message.error(n.$t("edge.login.loginerror")),void(n.loading=!1)):(n.loading=!1,e.data.data.expire&&void 0!==e.data.data.token?(Object(i.j)(e.data.data.token),void n.modifyPasswd()):(Object(i.a)(n.loginForm.user_name),n.loginInterface.loginSucess(e.data.data.token),void n.addDevice()))}).catch(function(e){n.loading=!1,n.$message.error(e),n.loginInterface.loginFailed(e)})})},switchLanguage:function(n){switch(n){case"Ch":this.switchToChinese();break;case"En":this.switchToEngLish();break;default:console.log(n)}},switchToChinese:function(){this.$i18n.locale="zh",Object(i.i)(this.$i18n.locale)},switchToEngLish:function(){this.$i18n.locale="en",Object(i.i)(this.$i18n.locale)},modifyPasswd:function(){this.$refs.changepassChild.onChangePassClick(this.loginForm.user_name)},handleExpand:function(){this.isExpand=!this.isExpand},resetParams:function(){this.loginForm.ip="localhost",this.loginForm.port="8880",this.loginForm.protocol="ocp",this.loginForm.agentid="0"},addDevice:function(){var n=this,e={};e.protocol=this.loginForm.protocol,e.ip=this.loginForm.ip,e.port=this.loginForm.port,e.type="asc",e.agentid=this.loginForm.agentid,Object(i.h)(this.loginForm.agentid),Object(a.a)(e).then(function(e){e.data.success||(console.log(new Error(e.data.message)),n.$message({message:e.data.message,type:"error",duration:1e3}))})}}},l={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"auto-complete":"on",model:n.loginForm,rules:n.loginRules,"label-position":"left"}},[t("h3",{staticClass:"title"},[n._v(n._s(n.$t("edge.login.title")))]),n._v(" "),t("el-form-item",{attrs:{prop:"user_name"}},[t("span",{staticClass:"svg-container svg-container_login"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),n._v(" "),t("el-input",{staticClass:"login-input",attrs:{name:"user_name",type:"text","auto-complete":"on",placeholder:n.$t("edge.login.username")},model:{value:n.loginForm.user_name,callback:function(e){n.$set(n.loginForm,"user_name",e)},expression:"loginForm.user_name"}})],1),n._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),n._v(" "),t("el-input",{staticClass:"login-input",attrs:{name:"password",type:n.pwdType,"auto-complete":"on",placeholder:n.$t("edge.login.password"),onpaste:"return false",oncontextmenu:"return false",oncopy:"return false",oncut:"return false"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&n._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.handleLogin(e)}},model:{value:n.loginForm.password,callback:function(e){n.$set(n.loginForm,"password",e)},expression:"loginForm.password"}}),n._v(" "),t("span",{staticClass:"show-pwd",on:{click:n.showPwd}},[t("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),n._v(" "),t("div",[t("el-checkbox",{staticClass:"expand-text",model:{value:n.isExpand,callback:function(e){n.isExpand=e},expression:"isExpand"}},[n._v(n._s(n.$t("edge.login.locallogin")))])],1),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!n.isExpand,expression:"!isExpand"}]},[t("el-form-item",{attrs:{prop:"ip"}},[t("span",{staticClass:"text-container"},[n._v("IP")]),n._v(" "),t("el-input",{staticClass:"login-input",attrs:{name:"IP",type:"text","auto-complete":"on",placeholder:""},model:{value:n.loginForm.ip,callback:function(e){n.$set(n.loginForm,"ip",e)},expression:"loginForm.ip"}})],1),n._v(" "),t("el-form-item",{attrs:{prop:"port"}},[t("span",{staticClass:"text-container"},[n._v(n._s(n.$t("edge.login.port")))]),n._v(" "),t("el-input",{staticClass:"login-input",attrs:{name:"port",type:"text","auto-complete":"on",placeholder:""},model:{value:n.loginForm.port,callback:function(e){n.$set(n.loginForm,"port",e)},expression:"loginForm.port"}})],1),n._v(" "),t("el-form-item",{attrs:{prop:"protocol"}},[t("span",{staticClass:"text-container"},[n._v(n._s(n.$t("edge.login.protocol")))]),n._v(" "),t("el-select",{attrs:{placeholder:""},model:{value:n.loginForm.protocol,callback:function(e){n.$set(n.loginForm,"protocol",e)},expression:"loginForm.protocol"}},[t("el-option",{attrs:{label:"scp",value:"scp"}}),n._v(" "),t("el-option",{attrs:{label:"ocp",value:"ocp"}})],1)],1),n._v(" "),t("div",{staticClass:"expand-text",staticStyle:{float:"right"},on:{click:n.resetParams}},[n._v("\n            "+n._s(n.$t("edge.login.restoredefaultparameters"))+"\n        ")])],1),n._v(" "),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:n.loading},nativeOn:{click:function(e){return e.preventDefault(),n.handleLogin(e)}}},[n._v("\n          "+n._s(n.$t("edge.login.login"))+"\n        ")])],1)],1)],1),n._v(" "),t("changePass",{ref:"changepassChild"})],1)},staticRenderFns:[]};var p=t("VU/8")(s,l,!1,function(n){t("bY7H")},null,null);e.default=p.exports},bY7H:function(n,e,t){var o=t("EDez");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("rjj0")("3785bbb7",o,!0)}});